<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock-Paper-Scissors-Project-TOP</title>
</head>
<body>

  <div>
    <button id="rock">Rock</button>
    <button id ="paper">Paper</button>
    <button id="scissors">Scissors</button>
  </div>

  <div id="displayResults">

  </div>

  <p id="displayResult"></p>

<script>

  let standings = document.getElementById("displayResults");

  // function to play one round
function oneRound(playerSelection, computerSelection) {
  let oneRoundResult = "";
  if ((playerSelection === "rock" && computerSelection === "scissors") ||  (playerSelection === "paper" && computerSelection === "rock") || (playerSelection === "scissors" && computerSelection === "paper")) {
      oneRoundResult = "You win! " + playerSelection + " beats " + computerSelection;
  } else if ((playerSelection === "rock" && computerSelection === "paper") ||  (playerSelection === "paper" && computerSelection === "scissors") || (playerSelection === "scissors" && computerSelection === "rock")) {
      oneRoundResult = "You lose! " + computerSelection + " beats " + playerSelection;
    } else {
      oneRoundResult = "It's a draw! " + playerSelection + " and " + computerSelection + " cancel each other out";
    }
  return oneRoundResult;
} // end oneRound

  // function to make computer play a single shot
  function computerPlay(){
    let computerNumber = Math.floor(Math.random()*3)
      switch (computerNumber) {
        case 0:
        computerTry = "rock";
        break;
        case 1:
        computerTry = "paper";
        break;
        case 2:
        computerTry = "scissors";
      } // end switch
    return computerTry;
  } // end computerPlay

  // function to complete a round
  function completeOneRound() {
    const buttons = document.querySelectorAll('button');
     buttons.forEach((button) => {
       button.addEventListener('click',(e) => {
         let playerSelection = e.target.id;
         console.log(playerSelection);
        // Get computer selection
        let computerSelection = computerPlay();
        console.log(computerSelection);
        // play one round
        let oneRoundResult = oneRound(playerSelection, computerSelection);

        // Display results of a round on the page
        let playerSelectP = document.createElement('p');
        playerSelectP.textContent = `You chose '${playerSelection}'.`;
        standings.appendChild(playerSelectP);

        let computerSelectP = document.createElement('p');
        computerSelectP.textContent = `The computer chose '${computerSelection}'.`;
        standings.appendChild(computerSelectP);

        let oneRoundResultP = document.createElement('p');
        oneRoundResultP.textContent = oneRoundResult;
        standings.appendChild(oneRoundResultP);

        keepScore(oneRoundResult);
        // mmm
        

     }); 
    });
  }

completeOneRound();



// function to play the game
 function keepScore(oneRoundResult) {
   let playerScore = 0;
   let computerScore = 0;
   let finalStandings = "";
    //increment score for player and computer after each round
    if (oneRoundResult.includes("win")){
      playerScore++;
      console.log("playerScore: " + playerScore);
    } else if (oneRoundResult.includes("lose")){
        computerScore++;
        console.log("computerScore: " + computerScore);
      } else if (oneRoundResult.includes("draw")){
      }
    console.log(oneRoundResult);
    return oneRoundResult;
    //} // end for
    
    /*if (playerScore > computerScore) {
      finalStandings = "Congratulations! You are the winner!";
    } else if (computerScore > playerScore) {
        finalStandings = "Bad luck! The computer was the victor";
        } else if (playerScore === computerScore) {
            finalStandings = "It ends up a draw!";
           } 
    return finalStandings;
    */
  } // end game
// Play the game and display result on page
//let resultText = document.createTextNode(game());
//para.appendChild(resultText);

</script>
</body>
</html>